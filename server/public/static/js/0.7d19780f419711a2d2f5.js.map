{"version":3,"sources":["webpack:///static/js/0.7d19780f419711a2d2f5.js","webpack:///./src/components/user/register/index.vue","webpack:///index.vue","webpack:///./src/components/user/register/template.html"],"names":["webpackJsonp","218","module","exports","__webpack_require__","__vue_script__","__vue_template__","__vue_styles__","__esModule","default","__vue_options__","options","template","computed","Object","keys","forEach","key","244","_interopRequireDefault","obj","defineProperty","value","_user2","_user3","_actions","data","_user","age","sexo","password","passwordRepit","firstName","lastName","name","username","editPassword","formValid","user","getUser","error","formValidMsg","success","vuex","actions","setUser","methods","validPassword","this","length","errorMsgPasswrd","repitPasswordValidate","validUser","registerUser","signin","then","response","console","log","_id","window","location","reload","$route","router","go","i","errors","message","created","358"],"mappings":"AAAAA,cAAc,EAAE,IAEVC,IACA,SAAUC,EAAQC,EAASC,GCHjC,GAAAC,GAAAC,EACAC,IACAF,GAAAD,EAAA,KACAF,EAAAC,QAAAE,MACAH,EAAAC,QAAAK,aAAAN,EAAAC,QAAAD,EAAAC,QAAAM,QACA,IAAAC,GAAA,kBAAAR,GAAAC,QAAAD,EAAAC,QAAAQ,UAAAT,EAAAC,QAAAQ,YAAoHT,EAAAC,OACpHG,KACAI,EAAAE,SAAAN,GAEAI,EAAAG,WAAAH,EAAAG,aACAC,OAAAC,KAAAR,GAAAS,QAAA,SAAAC,GACA,GAAAf,GAAAK,EAAAU,EACAP,GAAAG,SAAAI,GAAA,WAA6C,MAAAf,ODWvCgB,IACA,SAAUhB,EAAQC,EAASC,GAEhC,YAYA,SAASe,GAAuBC,GAAO,MAAOA,IAAOA,EAAIZ,WAAaY,GAAQX,QAASW,GAVvFN,OAAOO,eAAelB,EAAS,cAC7BmB,OAAO,GAGT,IAAIC,GAASnB,EAAoB,GAE7BoB,EAASL,EAAuBI,GEhCrCE,EAAArB,EAAA,GFsCCD,GAAQM,SEpCTG,SAAAR,EAAA,KACAsB,KAFA,WAGA,GAAAC,IACAC,IAAA,GACAC,KAAA,SACAC,SAAA,GACAC,cAAA,GACAC,UAAA,GACAC,SAAA,GACAC,KAAA,GACAC,SAAA,GAEA,QACAC,cAAA,EACAC,WAAA,EACAC,KAAAd,EAAAf,QAAA8B,WAAAZ,EACAa,MAAA,GACAC,cACAX,UACAY,QAAA,YACAF,MAAA,aAEAT,eACAW,QAAA,YACAF,MAAA,eAEAF,MACAI,QAAA,YACAF,MAAA,iCAKAG,MACAC,SACAC,QAAApB,EAAAoB,UAGAC,SACAC,cADA,WAGA,OAAAC,KAAAZ,iBAGAY,KAAAV,KAAAR,SAAAmB,OAAA,KACAD,KAAAP,aAAAS,gBAAA,uBACA,KAIAC,sBAZA,WAaA,OAAAH,KAAAZ,cAGAY,KAAAV,KAAAR,WAAAkB,KAAAV,KAAAP,eAKAqB,UArBA,WAsBA,QAAAJ,KAAAV,KAAAH,SAAAc,OAAA,GAAAD,KAAAV,KAAAH,SAAAc,OAAA,KAKAI,aA3BA,WA4BAL,KAAAI,aAAAJ,KAAAG,yBAAAH,KAAAD,kBAGAC,KAAAR,MAAA,aACAhB,EAAAf,QAAA6C,OAAAN,UAAAV,MAAAiB,KAAA,SAAAC,GACAC,QAAAC,IAAAF,GACAR,KAAAR,MAAA,kBACAQ,KAAAV,KAAAqB,IACAC,OAAAC,SAAAC,SAEAd,KAAAe,OAAAC,OAAAC,GAAAjB,KAAAV,KAAAqB,IAAA,QAAAX,KAAAV,KAAAH,SAAA,MAEA,SAAAqB,GACA,OAAAU,KAAAV,GAAA9B,KAAAyC,OAEAnB,KAAAR,MAAAgB,EAAA9B,KAAAyC,OAAAD,GAAAE,aAKAC,QAvFA,WAwFArB,KAAAV,KAAAR,SAAA,MF0CMwC,IACA,SAAUpE,EAAQC,GGtIxBD,EAAAC,QAAA","file":"static/js/0.7d19780f419711a2d2f5.js","sourcesContent":["webpackJsonp([0,4],{\n\n/***/ 218:\n/***/ (function(module, exports, __webpack_require__) {\n\n\tvar __vue_script__, __vue_template__\n\tvar __vue_styles__ = {}\n\t__vue_script__ = __webpack_require__(244)\n\tmodule.exports = __vue_script__ || {}\n\tif (module.exports.__esModule) module.exports = module.exports.default\n\tvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\n\tif (__vue_template__) {\n\t__vue_options__.template = __vue_template__\n\t}\n\tif (!__vue_options__.computed) __vue_options__.computed = {}\n\tObject.keys(__vue_styles__).forEach(function (key) {\n\tvar module = __vue_styles__[key]\n\t__vue_options__.computed[key] = function () { return module }\n\t})\n\n\n/***/ }),\n\n/***/ 244:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _user2 = __webpack_require__(4);\n\t\n\tvar _user3 = _interopRequireDefault(_user2);\n\t\n\tvar _actions = __webpack_require__(34);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\texports.default = {\n\t  template: __webpack_require__(358),\n\t  data: function data() {\n\t    var _user = {\n\t      age: 26,\n\t      sexo: 'mascul',\n\t      password: '',\n\t      passwordRepit: '',\n\t      firstName: '',\n\t      lastName: '',\n\t      name: '',\n\t      username: ''\n\t    };\n\t    return {\n\t      editPassword: true,\n\t      formValid: false,\n\t      user: _user3.default.getUser() || _user,\n\t      error: '',\n\t      formValidMsg: {\n\t        password: {\n\t          success: 'Luce bien',\n\t          error: 'muy corta'\n\t        },\n\t        passwordRepit: {\n\t          success: 'Luce bien',\n\t          error: 'No coincide'\n\t        },\n\t        user: {\n\t          success: 'Luce bien',\n\t          error: 'No menos de 4 ni más de 10'\n\t        }\n\t      }\n\t    };\n\t  },\n\t\n\t  vuex: {\n\t    actions: {\n\t      setUser: _actions.setUser\n\t    }\n\t  },\n\t  methods: {\n\t    validPassword: function validPassword() {\n\t      if (!this.editPassword) {\n\t        return true;\n\t      }\n\t      if (this.user.password.length < 5) {\n\t        this.formValidMsg.errorMsgPasswrd = 'corta la contraseña';\n\t        return false;\n\t      }\n\t      return true;\n\t    },\n\t    repitPasswordValidate: function repitPasswordValidate() {\n\t      if (!this.editPassword) {\n\t        return true;\n\t      }\n\t      if (this.user.password !== this.user.passwordRepit) {\n\t        return false;\n\t      }\n\t      return true;\n\t    },\n\t    validUser: function validUser() {\n\t      if (this.user.username.length < 4 || this.user.username.length > 10) {\n\t        return false;\n\t      }\n\t      return true;\n\t    },\n\t    registerUser: function registerUser() {\n\t      if (!this.validUser() || !this.repitPasswordValidate() || !this.validPassword()) {\n\t        return;\n\t      }\n\t      this.error = 'procesando';\n\t      _user3.default.signin(this, this.user).then(function (response) {\n\t        console.log(response);\n\t        this.error = 'redireccionando';\n\t        if (this.user._id) {\n\t          window.location.reload();\n\t        } else {\n\t          this.$route.router.go(this.user._id ? 'user/' + this.user.username : '/');\n\t        }\n\t      }, function (response) {\n\t        for (var i in response.data.errors) {\n\t          this.error = response.data.errors[i].message;\n\t        }\n\t      });\n\t    }\n\t  },\n\t  created: function created() {\n\t    this.user.password = '';\n\t  }\n\t};\n\n/***/ }),\n\n/***/ 358:\n/***/ (function(module, exports) {\n\n\tmodule.exports = \"<div class=row> <h3 class=flat-text-header style=\\\"text-align: center\\\" v-if=!user._id>{{ $t(\\\"register.title\\\") }}</h3> <div style=\\\"text-align: center\\\"><p>{{error| json}}</p></div> <form class=\\\"col s12\\\" v-on:submit.prevent=registerUser()> <div class=\\\"row card-panel\\\"> <div class=\\\"row demo\\\"> <md-input name=usuario :value.sync=user.username class=\\\"col s12 m6 l6\\\" :success-msg=formValidMsg.user.success :error-msg=formValidMsg.user.error :valid=validUser()> {{ $t(\\\"register.username\\\") }} </md-input> <md-input name=last_name :value.sync=user.email class=\\\"col s12 m6 l6\\\"> {{ $t(\\\"register.email\\\") }} </md-input> </div> <div class=\\\"row demo\\\"> <md-input name=first_name :value.sync=user.name class=\\\"col s12 m4 l4\\\"> {{ $t(\\\"register.name\\\") }} </md-input> <md-input name=last_name :value.sync=user.firstName class=\\\"col s12 m4 l4\\\"> {{ $t(\\\"register.firstName\\\") }} </md-input> <md-input name=last_name :value.sync=user.lastName class=\\\"col s12 m4 l4\\\"> {{ $t(\\\"register.lastName\\\") }} </md-input> </div> <div class=\\\"row demo\\\" v-if=user._id> <div class=\\\"col s4\\\"> <md-checkbox :value.sync=editPassword> Editar contraseña </md-checkbox> </div> </div> <div class=\\\"row card-panel\\\" v-if=editPassword> <md-input type=password class=\\\"col s12 m6 l6\\\" :value.sync=user.password :success-msg=formValidMsg.password.success :error-msg=formValidMsg.password.error :valid=validPassword()> {{ $t(\\\"register.password\\\") }} </md-input> <md-input type=password class=\\\"col s12 m6 l6\\\" :value.sync=user.passwordRepit :success-msg=formValidMsg.passwordRepit.success :error-msg=formValidMsg.passwordRepit.error :valid=repitPasswordValidate()> {{ $t(\\\"register.passwordRepit\\\") }} </md-input> </div> <div class=row> <p class=flat-text-header>Sexo</p> <md-radio-group group=firstNameValid class=\\\"col s6 m6 l6\\\"> <md-radio :value.sync=user.sexo radio-value=f class=with-gap> {{ $t(\\\"register.femen\\\") }} </md-radio> <md-radio :value.sync=user.sexo radio-value=m class=with-gap> {{ $t(\\\"register.mascul\\\") }} </md-radio> </md-radio-group> <md-input :value.sync=user.age type=number :number=true class=\\\"col s6 m6 l6\\\" :error-msg=\\\"'si tambien'\\\" :valid=\\\"user.age < 100 && user.age > 3\\\"> {{ $t(\\\"register.age\\\") }} </md-input> </div> </div> <md-button class=\\\"waves-effect waves-light col s6 m6 l6\\\" @click=registerUser()> <md-icon left>cloud</md-icon> {{ [user._id?'Editar':$t(\\\"register.insert\\\")] }} </md-button> <md-button class=\\\"waves-effect waves-light col s6 m6 l6\\\" v-link=\\\"{name: user._id?'user':'home'}\\\"> <md-icon right>cloud</md-icon> {{ $t(\\\"register.cancel\\\") }} </md-button> </form> <style scoped> .input-field label {\\r\\n            right: 10px !important;\\r\\n            left: 10px;\\r\\n            width: 100%;\\r\\n        }\\r\\n\\r\\n        input:not([type]) + label:after, input[type=text] + label:after, input[type=password] + label:after, input[type=email] + label:after, input[type=url] + label:after, input[type=time] + label:after, input[type=date] + label:after, input[type=datetime-local] + label:after, input[type=tel] + label:after, input[type=number] + label:after, input[type=search] + label:after, textarea.materialize-textarea + label:after {\\r\\n            display: block;\\r\\n            content: \\\"\\\";\\r\\n            position: absolute;\\r\\n            top: 57px;\\r\\n            opacity: 0;\\r\\n            transition: .2s opacity ease-out, .2s color ease-out;\\r\\n        } </style> </div>\";\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/0.7d19780f419711a2d2f5.js","var __vue_script__, __vue_template__\nvar __vue_styles__ = {}\n__vue_script__ = require(\"!!babel-loader?presets[]=es2015&plugins[]=transform-runtime&comments=false!../../../../node_modules/vue-loader/lib/selector.js?type=script&index=0!../../../../node_modules/eslint-loader/index.js!./index.vue\")\nmodule.exports = __vue_script__ || {}\nif (module.exports.__esModule) module.exports = module.exports.default\nvar __vue_options__ = typeof module.exports === \"function\" ? (module.exports.options || (module.exports.options = {})) : module.exports\nif (__vue_template__) {\n__vue_options__.template = __vue_template__\n}\nif (!__vue_options__.computed) __vue_options__.computed = {}\nObject.keys(__vue_styles__).forEach(function (key) {\nvar module = __vue_styles__[key]\n__vue_options__.computed[key] = function () { return module }\n})\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/user/register/index.vue\n// module id = 218\n// module chunks = 0","<script>\r\nimport UserService from '../../../services/user'\r\nimport { setUser } from '../../../vuex/actions'\r\nexport default {\r\n  template: require('./template.html'),\r\n  data () {\r\n    var _user = {\r\n      age: 26,\r\n      sexo: 'mascul',\r\n      password: '',\r\n      passwordRepit: '',\r\n      firstName: '',\r\n      lastName: '',\r\n      name: '',\r\n      username: ''\r\n    }\r\n    return {\r\n      editPassword: true,\r\n      formValid: false,\r\n      user: UserService.getUser() || _user,\r\n      error: '',\r\n      formValidMsg: {\r\n        password: {\r\n          success: 'Luce bien',\r\n          error: 'muy corta'\r\n        },\r\n        passwordRepit: {\r\n          success: 'Luce bien',\r\n          error: 'No coincide'\r\n        },\r\n        user: {\r\n          success: 'Luce bien',\r\n          error: 'No menos de 4 ni más de 10'\r\n        }\r\n      }\r\n    }\r\n  },\r\n  vuex: {\r\n    actions: {\r\n      setUser\r\n    }\r\n  },\r\n  methods: {\r\n    validPassword () {\r\n      // algoritmo de validacion de passwords\r\n      if (!this.editPassword) {\r\n        return true\r\n      }\r\n      if (this.user.password.length < 5) {\r\n        this.formValidMsg.errorMsgPasswrd = 'corta la contraseña'\r\n        return false\r\n      }\r\n      return true\r\n    },\r\n    repitPasswordValidate () {\r\n      if (!this.editPassword) {\r\n        return true\r\n      }\r\n      if (this.user.password !== this.user.passwordRepit) {\r\n        return false\r\n      }\r\n      return true\r\n    },\r\n    validUser () {\r\n      if (this.user.username.length < 4 || this.user.username.length > 10) {\r\n        return false\r\n      }\r\n      return true\r\n    },\r\n    registerUser () {\r\n      if (!this.validUser() || !this.repitPasswordValidate() || !this.validPassword()) {\r\n        return\r\n      }\r\n      this.error = 'procesando'\r\n      UserService.signin(this, this.user).then(function (response) {\r\n        console.log(response)\r\n        this.error = 'redireccionando'\r\n        if (this.user._id) {\r\n          window.location.reload()\r\n        } else {\r\n          this.$route.router.go(this.user._id ? 'user/' + this.user.username : '/')\r\n        }\r\n      }, function (response) {\r\n        for (var i in response.data.errors) {\r\n          // mostrando un solo error por el mommento\r\n          this.error = response.data.errors[i].message\r\n        }\r\n      })\r\n    }\r\n  },\r\n  created () {\r\n    this.user.password = ''\r\n  }\r\n}\r\n</script>\n\n\n// WEBPACK FOOTER //\n// index.vue?27efe310","module.exports = \"<div class=row> <h3 class=flat-text-header style=\\\"text-align: center\\\" v-if=!user._id>{{ $t(\\\"register.title\\\") }}</h3> <div style=\\\"text-align: center\\\"><p>{{error| json}}</p></div> <form class=\\\"col s12\\\" v-on:submit.prevent=registerUser()> <div class=\\\"row card-panel\\\"> <div class=\\\"row demo\\\"> <md-input name=usuario :value.sync=user.username class=\\\"col s12 m6 l6\\\" :success-msg=formValidMsg.user.success :error-msg=formValidMsg.user.error :valid=validUser()> {{ $t(\\\"register.username\\\") }} </md-input> <md-input name=last_name :value.sync=user.email class=\\\"col s12 m6 l6\\\"> {{ $t(\\\"register.email\\\") }} </md-input> </div> <div class=\\\"row demo\\\"> <md-input name=first_name :value.sync=user.name class=\\\"col s12 m4 l4\\\"> {{ $t(\\\"register.name\\\") }} </md-input> <md-input name=last_name :value.sync=user.firstName class=\\\"col s12 m4 l4\\\"> {{ $t(\\\"register.firstName\\\") }} </md-input> <md-input name=last_name :value.sync=user.lastName class=\\\"col s12 m4 l4\\\"> {{ $t(\\\"register.lastName\\\") }} </md-input> </div> <div class=\\\"row demo\\\" v-if=user._id> <div class=\\\"col s4\\\"> <md-checkbox :value.sync=editPassword> Editar contraseña </md-checkbox> </div> </div> <div class=\\\"row card-panel\\\" v-if=editPassword> <md-input type=password class=\\\"col s12 m6 l6\\\" :value.sync=user.password :success-msg=formValidMsg.password.success :error-msg=formValidMsg.password.error :valid=validPassword()> {{ $t(\\\"register.password\\\") }} </md-input> <md-input type=password class=\\\"col s12 m6 l6\\\" :value.sync=user.passwordRepit :success-msg=formValidMsg.passwordRepit.success :error-msg=formValidMsg.passwordRepit.error :valid=repitPasswordValidate()> {{ $t(\\\"register.passwordRepit\\\") }} </md-input> </div> <div class=row> <p class=flat-text-header>Sexo</p> <md-radio-group group=firstNameValid class=\\\"col s6 m6 l6\\\"> <md-radio :value.sync=user.sexo radio-value=f class=with-gap> {{ $t(\\\"register.femen\\\") }} </md-radio> <md-radio :value.sync=user.sexo radio-value=m class=with-gap> {{ $t(\\\"register.mascul\\\") }} </md-radio> </md-radio-group> <md-input :value.sync=user.age type=number :number=true class=\\\"col s6 m6 l6\\\" :error-msg=\\\"'si tambien'\\\" :valid=\\\"user.age < 100 && user.age > 3\\\"> {{ $t(\\\"register.age\\\") }} </md-input> </div> </div> <md-button class=\\\"waves-effect waves-light col s6 m6 l6\\\" @click=registerUser()> <md-icon left>cloud</md-icon> {{ [user._id?'Editar':$t(\\\"register.insert\\\")] }} </md-button> <md-button class=\\\"waves-effect waves-light col s6 m6 l6\\\" v-link=\\\"{name: user._id?'user':'home'}\\\"> <md-icon right>cloud</md-icon> {{ $t(\\\"register.cancel\\\") }} </md-button> </form> <style scoped> .input-field label {\\r\\n            right: 10px !important;\\r\\n            left: 10px;\\r\\n            width: 100%;\\r\\n        }\\r\\n\\r\\n        input:not([type]) + label:after, input[type=text] + label:after, input[type=password] + label:after, input[type=email] + label:after, input[type=url] + label:after, input[type=time] + label:after, input[type=date] + label:after, input[type=datetime-local] + label:after, input[type=tel] + label:after, input[type=number] + label:after, input[type=search] + label:after, textarea.materialize-textarea + label:after {\\r\\n            display: block;\\r\\n            content: \\\"\\\";\\r\\n            position: absolute;\\r\\n            top: 57px;\\r\\n            opacity: 0;\\r\\n            transition: .2s opacity ease-out, .2s color ease-out;\\r\\n        } </style> </div>\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/user/register/template.html\n// module id = 358\n// module chunks = 0"],"sourceRoot":""}